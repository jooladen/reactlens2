# PRD — Code Skeleton Viewer

## 프로젝트 개요

| 항목 | 내용 |
|------|------|
| 한 줄 요약 | 복잡한 JSX/TSX 파일을 7섹션 뼈대로 즉시 파싱해주는 도구 |
| 문제 정의 | 새 코드베이스 온보딩 시 export default 함수의 전체 구조 파악에 시간이 너무 많이 걸림 |
| 해결 방법 | 소스 붙여넣기 → 정규식 파싱 → 섹션별 뼈대만 추출해서 즉시 보여줌 |
| 대상 사용자 | JSX/TSX 코드베이스를 처음 보는 프론트엔드 개발자 |
| 실행 환경 | claude.ai 아티팩트 (단일 .jsx 파일, 서버 없음) |

---

## 기술 스택

| 기술 | 이유 |
|------|------|
| React (JSX) | 단일 파일 아티팩트 실행 환경 요구사항 |
| Tailwind CSS | 아티팩트 환경에서 추가 설정 없이 사용 가능 |
| 정규식 파싱 | API 없음, 외부 의존성 없음, MVP 속도 최우선 |

> 향후 교체: 파서 로직만 AST 기반으로 교체 예정. 화면(UI)은 그대로 유지.

---

## 기능 목록

### 기능 1: 소스 파싱

#### 화면 구성

```
┌─────────────────┬─────────────────┐
│  원본 붙여넣기   │  파싱 결과       │
│  (textarea)     │  (읽기전용)      │
│                 │                 │
└─────────────────┴─────────────────┘
        [ 파싱하기 ]  [ 복사 ]
```

- 좌측: textarea (자유 입력, 높이 고정 or 전체 화면 절반)
- 우측: 읽기전용 textarea 또는 pre 태그 (결과 표시)
- 하단 버튼 2개: 파싱하기 / 복사 (결과 전체 복사)
- 모바일: 좌우 → 상하 레이아웃으로 전환
- 빈 상태: 우측에 "결과가 여기에 표시됩니다" 안내 텍스트

#### 사용자 흐름

1. 좌측 textarea에 JSX/TSX 소스 붙여넣기
2. [파싱하기] 버튼 클릭
3. 우측에 7섹션 뼈대 결과 표시
4. [복사] 버튼으로 결과 전체 클립보드 복사

#### 7섹션 파싱 규칙

| 섹션 | 감지 기준 | 출력 형식 |
|------|-----------|-----------|
| 1️⃣ imports | `import `로 시작하는 줄 | 원본 그대로 |
| 2️⃣ 유틸 함수 | `export default` 밖 `function`, `const` = 화살표함수 | 선언부 + `/* ... */` |
| 3️⃣ 내부 컴포넌트 | JSX를 반환하는 내부 함수 | 선언부 + `/* ... */` |
| 4️⃣ 상태 | `useState`, `useReducer`, `useRef` | 선언부 + 초기값 |
| 5️⃣ 이벤트/로직 | `const handle*`, `const on*`, `function handle*` | 선언부 + `/* ... */` |
| 6️⃣ 사이드이펙트 | `useEffect`, `useLayoutEffect`, `useCallback`, `useMemo` | deps 배열만 표시 |
| 7️⃣ JSX 반환 | `return (` 이후 | `/* ... */` |

- **없는 섹션은 출력하지 않음**
- 섹션 헤더 형식: `// 1️⃣ imports` (이모지 포함)

#### 입력 검증 규칙

| 상황 | 처리 |
|------|------|
| 아무것도 입력 안 하고 파싱하기 클릭 | "코드를 입력해주세요" 메시지 표시 |
| 입력했지만 섹션 하나도 감지 안 됨 | 원본 코드 그대로 우측에 표시 + "파싱 결과가 없어 원본을 표시합니다" 안내 |
| JSX 아닌 코드 (Python, SQL 등) | 위와 동일 처리 (별도 감지 불필요) |

---

## 에러/예외 처리 시나리오

| # | 상황 | 처리 방법 |
|---|------|-----------|
| 1 | 빈 textarea에서 파싱하기 클릭 | 우측에 "코드를 입력해주세요" 표시, 파싱 중단 |
| 2 | 감지된 섹션 0개 | 원본 그대로 우측 표시 + 안내 메시지 |
| 3 | 파싱 중 예상 못한 JS 에러 | try-catch로 잡아서 "파싱 중 오류가 발생했습니다" + 원본 표시 |
| 4 | 복사 버튼 클릭 시 결과 없음 | "복사할 내용이 없습니다" 메시지 표시 |
| 5 | 클립보드 API 미지원 환경 | "복사에 실패했습니다. 직접 선택해서 복사해주세요" 메시지 표시 |
| 6 | 매우 긴 코드 (1000줄+) 붙여넣기 | 파싱은 동작하되, 성능 보장 없음 (MVP 범위 외) |

---

## 디자인 방향

- **톤**: 개발자 도구 느낌, 다크 테마 또는 중립 화이트
- **레이아웃**: 데스크탑 좌우 분할, 모바일 상하 분할
- **폰트**: 코드 영역은 monospace (Fira Code, Consolas, 기본 mono)
- **버튼**: 파싱하기 = 강조색, 복사 = 중립색
- **결과 영역**: 배경색으로 입력과 시각적 구분

---

## 향후 기능 (2단계)

### set 출처 추적
- 각 섹션의 변수/함수가 원본 코드 몇 번째 줄에서 선언됐는지 표시
- 예: `// 4️⃣ 상태 (line 12)` 형식
- UI 변경 없이 파서 로직만 확장
